<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" type="image/ico" href="./../favicon.ico">
  <title>Home</title>
  <style>
    @import url('https://fonts.googleapis.com/css?family=Roboto+Mono');

    :root {
      --bg: #0f0808;
      --fg: #ffffff;
      --secondaryFg: #b3b3b3;
      --containerBg: #272727;
      --searchBg: var(--containerBg);
      --scrollbarColor: #3f3f3f;
    }

    body {
      background-color: var(--bg);
      margin: 0px;
    }

    .container {
      width: 100%;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    #clock {
      font-family: sans-serif;
      font-size: 3.5rem;
      font-weight: 600;
      font-family: 'Roboto Mono';
      color: var(--fg);
      margin-bottom: 0.25em;
    }

    #search {
      width: 100%;
      height: 100vh;
      background-color: var(--searchBg);
      display: none;
      position: absolute;
      box-sizing: border-box;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    #search-field {
      width: 90%;
      padding: 0.75em 1em;
      box-sizing: border-box;
      background-color: var(--searchBg);
      border: solid 0px var(--searchBg);
      font-family: 'Roboto Mono';
      font-size: 4rem;
      color: var(--fg);
      outline: none;
      border-radius: 3px;
      margin-bottom: 1em;
      text-align: center;
    }

    .weather-container {
      width: 30%;
      background-color: var(--containerBg);
      padding: 1em;
      border-radius: 3px;
      font-family: 'Roboto Mono';
      color: var(--fg);
      text-align: center;
    }

    .inline {
      display: inline-block;
    }

    .bookmark-container {
      display: flex;
      flex-direction: row;
      justify-content: center;
      width: 50%;
      margin: 1em 0em;
    }

    @media only screen and (max-width: 960px) {
      .container {
        height: auto;
      }

      #clock {
        margin-top: 1em;
      }

      .container>.bookmark-container {
        flex-direction: column;
        width: 60%;
      }

      .bookmark-container>.bookmark-set {
        width: auto;
        margin: 1em 0em;
      }
    }

    .bookmark-set {
      padding: 1em;
      background-color: var(--containerBg);
      border-radius: 3px;
      font-family: 'Roboto Mono';
      font-size: 0.85rem;
      width: 25%;
      height: 16em;
      margin: 0em 0.5em;
      box-sizing: border-box;
    }

    .bookmark-inner-container {
      overflow-y: scroll;
      height: 80%;
      vertical-align: top;
      padding-right: 6px;
      box-sizing: border-box;

      scrollbar-width: thin;
      scrollbar-color: var(--scrollbarColor) #ffffff00;
    }

    .bookmark-inner-container::-webkit-scrollbar {
      width: 6px;
    }

    .bookmark-inner-container::-webkit-scrollbar-track {
      background: #ffffff00;
    }

    .bookmark-inner-container::-webkit-scrollbar-thumb {
      background-color: var(--scrollbarColor);
      border-radius: 6px;
      border: 3px solid #ffffff00;
    }

    .bookmark-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--fg);
      margin: 0em 0em 0.35em 0em;
    }

    .bookmark {
      text-decoration: none;
      color: var(--secondaryFg);
      display: block;
      margin: 0.5em 0em;
    }

    .bookmark:hover {
      color: var(--fg);
    }
  </style>
</head>

<body>
  <div id="search">
    <input id="search-field" type="text" name="search-field" onkeypress="return search(event)" />
  </div>
  <div class="container">
    <div id="clock"></div>
    <div class="weather-container">
      <div class="row">
        <div id="weather-description" class="inline"></div>
        <div class="inline">-</div>
        <div id="temp" class="inline"></div>
      </div>
    </div>
    <div class="bookmark-container">
      <div class="bookmark-set">
        <div class="bookmark-title">Daily</div>
        <div class="bookmark-inner-container">
          <a class="bookmark" href="https://www.gmail.com">Gmail</a>
          <a class="bookmark" href="https://www.wikipedia.org">Wikipedia</a>
          <a class="bookmark" href="https://github.com">GitHub</a>
        </div>
      </div>
      <div class="bookmark-set">
        <div class="bookmark-title">Media</div>
        <div class="bookmark-inner-container">
          <a class="bookmark" href="https://youtube.com">YouTube</a>
          <a class="bookmark" href="https://www.reddit.com">Reddit</a>
          <a class="bookmark" href="https://netflix.com">Netflix</a>
          <a class="bookmark" href="https://twitch.tv">Twitch</a>
          <a class="bookmark" href="https://neverthink.tv">Neverthink</a>
        </div>
      </div>
      <div class="bookmark-set">
        <div class="bookmark-title">School</div>
        <div class="bookmark-inner-container">
          <a class="bookmark" href="https://www.ieu.edu.tr/tr">IEU</a>
          <a class="bookmark" href="https://oasis.izmirekonomi.edu.tr/login">OASIS</a>
          <a class="bookmark" href="https://ieu.blackboard.com">Blackboard</a>
          <a class="bookmark" href="https://webmail.izmirekonomi.edu.tr">IEU WebMAIL</a>
        </div>
      </div>
      <div class="bookmark-set">
        <div class="bookmark-title">Admin</div>
        <div class="bookmark-inner-container">
          <a class="bookmark" href="http://192.168.0.21/admin">PiHole</a>
          <a class="bookmark" href="http://192.168.0.1">Modem</a>
          <a class="bookmark" href="http://192.168.0.253">Router</a>
          <a class="bookmark" href="https://ifconfig.me">ifconfig</a>
          <a class="bookmark" href="https://www.speedtest.net">Speedtest</a>
        </div>
      </div>
    </div>
  </div>

  <script>

    function search(e) {
      if (e.keyCode == 13) { // Enter to search
        var val = document.getElementById("search-field").value;
        window.open("https://google.com/search?q=" + val);
      }
    }

    function getTime() {
      let date = new Date(),
        min = date.getMinutes(),
        sec = date.getSeconds(),
        hour = date.getHours();

      return "" +
        (hour < 10 ? ("0" + hour) : hour) + ":" +
        (min < 10 ? ("0" + min) : min) + ":" +
        (sec < 10 ? ("0" + sec) : sec);
    }

    window.onload = () => {
      let xhr = new XMLHttpRequest();
      xhr.open('GET', 'https://api.openweathermap.org/data/2.5/weather?id=311046&units=metric&appid=e5b292ae2f9dae5f29e11499c2d82ece');
      xhr.onload = () => {
        if (xhr.readyState === 4) {
          if (xhr.status === 200) {
            let json = JSON.parse(xhr.responseText);
            document.getElementById("temp").innerHTML = json.main.temp.toFixed(0) + "° / " + json.main.feels_like.toFixed(0) + "°";
            document.getElementById("weather-description").innerHTML = json.weather[0].description;
          } else {
            console.log('error msg: ' + xhr.status);
          }
        }
      }
      xhr.send();

      document.getElementById("clock").innerHTML = getTime();
      setInterval(() => {
        document.getElementById("clock").innerHTML = getTime();
      }, 100);
    }

    document.addEventListener("keyup", event => {
      if (event.keyCode == 32) {          // Spacebar to open search
        document.getElementById('search').style.display = 'flex';
        document.getElementById('search-field').focus();
      } else if (event.keyCode == 27) {   // Esc to close search
        document.getElementById('search-field').value = '';
        document.getElementById('search-field').blur();
        document.getElementById('search').style.display = 'none';
      }
    });
  </script>
</body>

</html>